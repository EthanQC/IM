# Identity Service 生产环境配置示例
# 复制此文件为 config.prod.yaml 并填入真实配置
# 敏感信息建议通过环境变量注入

server:
  http_port: 8081
  grpc_port: 9080
  mode: release

mysql:
  dsn: "root:${DB_PASSWORD}@tcp(mysql:3306)/im_db?charset=utf8mb4&parseTime=True&loc=Local"
  max_open_conns: 100
  max_idle_conns: 10

redis:
  addr: "redis:6379"
  password: "${REDIS_PASSWORD}"
  db: 0

kafka:
  brokers:
    - "kafka:9092"
  topic: "user-events"

jwt:
  secret: "${JWT_SECRET}"
  access_ttl: 15m
  refresh_ttl: 168h

verification:
  code_ttl: 5m
  max_attempts: 3

log:
  service: "identity-service"
  level: info
  encoding: json
  stdout: true
  file:
    path: /var/log/im/identity_service.log
    max_size: 100
    max_backups: 60
    max_age: 30
    compress: true
